# 面试前一天 - 快速复习卡 ⚡

> 打印出来，面试前30分钟快速过一遍！

---

## 🎯 核心数据（必须记住）

### 文件传输系统
- **QPS**: 6000+ (小文件1KB的GET请求)
- **测试工具**: wrk -t4 -c200 -d30s
- **环境**: 2核4G虚拟机
- **P95延迟**: <15ms
- **并发连接**: 500+
- **性能提升**: 相比阻塞I/O提升3倍（自己两个版本对比）

### Raft KV存储
- **集群规模**: 3节点
- **容错能力**: 1节点故障
- **心跳超时**: 150-300ms随机
- **单元测试**: 20+个测试场景
- **存储结构**: 跳表 O(log N)

---

## 💬 自我介绍（3分钟版本）

"您好，我是刘罡，深圳大学光电信息工程硕士在读，求职后端开发工程师岗位。

虽然我的专业是光电，但研一开始系统学习C++后端开发。我做了两个项目来实践：

**项目1 - 文件传输系统：**
为解决实验室数据共享问题，用C++实现了基于epoll和Reactor模式的文件服务器。主要技术包括异步日志、读写锁、对象池等。在虚拟机上测试QPS达6000+，相比阻塞I/O版本提升3倍。

**项目2 - 分布式KV存储：**
学习分布式系统时，用C++实现了基于Raft算法的键值存储。完整实现了Leader选举、日志复制、快照机制。通过单元测试验证了各种故障场景的正确性。

通过这两个项目，我掌握了Linux网络编程、并发控制、分布式一致性等核心技术。

LeetCode刷了240+道题，计算机基础也系统学习过。虽然没有实习经验，但我学习能力强，能快速上手。希望有机会加入贵公司。"

---

## 🔥 高频问题速答

### Q: 为什么转行？

"研一时接触到C++后端开发，发现自己对高性能系统和分布式架构很感兴趣。相比光学实验，我更喜欢用代码解决问题的感觉。所以系统学习了后端技术栈，做了两个完整项目，确定这是我想长期从事的方向。"

---

### Q: 为什么没有实习？

"这是我的不足。研一时专注于掌握基础技术，做了两个项目巩固知识。现在基础扎实了，正在积极寻找实习机会，希望在实际工作中继续学习成长。"

---

### Q: QPS 6000+怎么测的？

"用wrk工具测试1KB小文件的GET请求：wrk -t4 -c200 -d30s。主要验证高并发下系统稳定性。实际传输大文件时，瓶颈是磁盘和网络带宽，QPS会低很多。测试环境是2核4G虚拟机。"

---

### Q: epoll的ET和LT区别？

"LT（水平触发）：只要有数据就通知；
ET（边缘触发）：只在状态变化时通知一次，必须一次读完。
我用的LT，因为实现简单，性能瓶颈不在这里。"

---

### Q: Reactor模式如何实现？

"主线程用epoll监听所有连接，处理accept和数据读写。文件操作等慢速I/O交给工作线程池处理，避免阻塞事件循环。通过任务队列和条件变量实现线程间通信。"

---

### Q: 双缓冲日志如何工作？

"两个buffer交替：前端线程写buffer A，后端线程刷buffer B。A写满后通知后端，交换A和B的指针（零拷贝），后端刷盘时前端继续写。通过mutex和条件变量同步。"

---

### Q: Raft选举过程？

"Follower超时（150-300ms随机）→ 转Candidate，term+1，给自己投票 → 并行发RequestVote → 获得多数票成为Leader。随机超时避免选票分裂。"

---

### Q: Raft如何保证一致性？

"通过日志匹配特性：AppendEntries带prevLogIndex和prevLogTerm，Follower检查是否匹配。不匹配就返回失败，Leader回退重试，直到找到一致点。"

---

### Q: 最难的bug？

"文件传输系统的并发bug。现象是压测时偶尔崩溃，通过valgrind发现Buffer对象被析构两次。定位到对象池归还时没加锁，两个线程同时归还同一个对象。解决方案是用RAII封装自动归还，并加锁保护。"

---

## ⚠️ 红线问题（绝对不能犯）

❌ **被问到不会的，硬扯** → 承认不会，请教学习

❌ **数据被质疑，死扛** → 承认表述不准确，诚实说明

❌ **项目细节答不上来** → 说明自己简化了，知道完整方案

❌ **贬低其他技术方案** → 尊重成熟方案，解释自己的选择

---

## ✅ 加分点

✅ 坦承这是学习项目，不是生产级系统

✅ 说明遇到的困难和如何解决的

✅ 知道完善方案但承认自己简化了

✅ 展现学习能力和对技术的热情

---

## 📝 准备的3个故事

### 1. 最难的bug
Buffer对象池的并发问题（详见上面）

### 2. 最大的挑战
Raft日志冲突的回退算法，通过仔细读论文和调试日志解决

### 3. 最自豪的优化
双缓冲日志，从同步改为异步，减少了对主线程的阻塞

---

## 🔍 面试官可能的态度

### 友好型（70%）
- 目的：评估真实水平
- 策略：诚实回答，展现思考

### 挑战型（20%）
- 目的：测试抗压能力
- 策略：保持冷静，承认不足，展现学习意愿

### 套路型（10%）
- 目的：验证项目真实性
- 策略：细节为王，说不清楚就是没做过

---

## 🎤 反问环节（准备3个）

1. "请问贵司的后端技术栈是什么？C++主要用在哪些业务场景？"

2. "对于应届生，团队有什么培养计划吗？我很想快速成长。"

3. "您觉得我今天的表现如何？有哪些方面还需要提升？"

---

## 📱 面试前检查清单

- [ ] 简历打印版 ×3
- [ ] 纸笔（可能要画图）
- [ ] 笔记本电脑（如果需要现场写代码）
- [ ] 提前15分钟到达
- [ ] 上厕所，喝点水
- [ ] 深呼吸，调整状态

---

## 🌟 最后叮嘱

1. **诚实 > 一切**
2. **不会就说不会**
3. **展现学习能力**
4. **保持自信和谦虚的平衡**

**你已经准备得很充分了！相信自己！加油！💪**

---

## 紧急电话号码

面试官联系方式：_______________

HR联系方式：_______________

公司地址：_______________

---

**时间：_______ 地点：_______ 岗位：_______**

